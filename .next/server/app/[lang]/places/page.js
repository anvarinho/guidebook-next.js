(()=>{var e={};e.id=5720,e.ids=[5720],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},82411:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.a,__next_app__:()=>d,originalPathname:()=>u,pages:()=>p,routeModule:()=>h,tree:()=>c});var n=r(50482),a=r(69108),i=r(62563),s=r.n(i),o=r(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["[lang]",{children:["places",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,64805)),"/Users/anvarinho/Desktop/next-app/frontend/src/app/[lang]/places/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,8990)),"/Users/anvarinho/Desktop/next-app/frontend/src/app/[lang]/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,25244)),"/Users/anvarinho/Desktop/next-app/frontend/src/app/[lang]/not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],p=["/Users/anvarinho/Desktop/next-app/frontend/src/app/[lang]/places/page.tsx"],u="/[lang]/places/page",d={require:r,loadChunk:()=>Promise.resolve()},h=new n.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/[lang]/places/page",pathname:"/[lang]/places",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},98875:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,31900,23)),Promise.resolve().then(r.t.bind(r,61476,23)),Promise.resolve().then(r.bind(r,67995))},67995:(e,t,r)=>{"use strict";r.r(t),r.d(t,{LoadMore:()=>g});var n=r(95344),a=r(3729),i=Object.defineProperty,s=new Map,o=new WeakMap,l=0,c=void 0;a.Component;var p=r(52997),u=r.n(p),d=r(56506),h=r(89410);function g({lang:e}){let[t,r]=(0,a.useState)([]),[i,p]=(0,a.useState)(0),{ref:g,inView:f}=function({threshold:e,delay:t,trackVisibility:r,rootMargin:n,root:i,triggerOnce:p,skip:u,initialInView:d,fallbackInView:h,onChange:g}={}){var f;let[m,v]=a.useState(null),x=a.useRef(),[_,w]=a.useState({inView:!!d,entry:void 0});x.current=g,a.useEffect(()=>{let a;if(!u&&m)return a=function(e,t,r={},n=c){if(void 0===window.IntersectionObserver&&void 0!==n){let a=e.getBoundingClientRect();return t(n,{isIntersecting:n,target:e,intersectionRatio:"number"==typeof r.threshold?r.threshold:0,time:0,boundingClientRect:a,intersectionRect:a,rootBounds:a}),()=>{}}let{id:a,observer:i,elements:p}=function(e){let t=Object.keys(e).sort().filter(t=>void 0!==e[t]).map(t=>{var r;return`${t}_${"root"===t?(r=e.root)?(o.has(r)||(l+=1,o.set(r,l.toString())),o.get(r)):"0":e[t]}`}).toString(),r=s.get(t);if(!r){let n;let a=new Map,i=new IntersectionObserver(t=>{t.forEach(t=>{var r;let i=t.isIntersecting&&n.some(e=>t.intersectionRatio>=e);e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=i),null==(r=a.get(t.target))||r.forEach(e=>{e(i,t)})})},e);n=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:i,elements:a},s.set(t,r)}return r}(r),u=p.get(e)||[];return p.has(e)||p.set(e,u),u.push(t),i.observe(e),function(){u.splice(u.indexOf(t),1),0===u.length&&(p.delete(e),i.unobserve(e)),0===p.size&&(i.disconnect(),s.delete(a))}}(m,(e,t)=>{w({inView:e,entry:t}),x.current&&x.current(e,t),t.isIntersecting&&p&&a&&(a(),a=void 0)},{root:i,rootMargin:n,threshold:e,trackVisibility:r,delay:t},h),()=>{a&&a()}},[Array.isArray(e)?e.toString():e,m,i,n,p,u,r,h,t]);let b=null==(f=_.entry)?void 0:f.target,y=a.useRef();m||!b||p||u||y.current===b||(y.current=b,w({inView:!!d,entry:void 0}));let j=[v,_.inView,_.entry];return j.ref=j[0],j.inView=j[1],j.entry=j[2],j}(),m=async()=>{let t=i+1,n=`http://159.65.95.44/api/places/more?lang=${e}&offset=${12*t}&limit=12`;try{let e=await fetch(n),a=await e.json();r(e=>[...e,...a.places]),p(t)}catch(e){console.error("Error fetching places:",e)}};return(0,a.useEffect)(()=>{f&&m()},[f]),(0,n.jsxs)(n.Fragment,{children:[0!==t.length?t.map(e=>(0,n.jsxs)("div",{className:u().placeBox,children:[n.jsx(d.default,{href:`places/${e.url}`,target:"_blank",rel:"noopener noreferrer",children:n.jsx(h.default,{src:"http://159.65.95.44/"+e.images[0],alt:e.name,className:u().placeImg,height:360,width:640,priority:!0})}),n.jsx("h4",{children:e.title}),n.jsx("h6",{children:e.region})]},e._id)):n.jsx(n.Fragment,{}),n.jsx("h5",{ref:g,children:"No more places yet..."})]})}},29219:e=>{e.exports={main:"page_main__4k237",placesDiv:"page_placesDiv__BxpSt",placesList:"page_placesList__f2809",placeBox:"page_placeBox__I8f2_",zoomIn:"page_zoomIn__1N5YG",placeImg:"page_placeImg__0jGnQ",weather:"page_weather__r87ZI",loadingSpinnerWrapper:"page_loadingSpinnerWrapper__aETHQ"}},52997:e=>{e.exports={main:"page_main__4k237",placesDiv:"page_placesDiv__BxpSt",placesList:"page_placesList__f2809",placeBox:"page_placeBox__I8f2_",zoomIn:"page_zoomIn__1N5YG",placeImg:"page_placeImg__0jGnQ",weather:"page_weather__r87ZI",loadingSpinnerWrapper:"page_loadingSpinnerWrapper__aETHQ"}},16274:(e,t,r)=>{"use strict";r.d(t,{default:()=>a.a});var n=r(48026),a=r.n(n)},48026:(e,t,r)=>{"use strict";let{createProxy:n}=r(86843);e.exports=n("/Users/anvarinho/Desktop/next-app/frontend/node_modules/next/dist/client/link.js")},68564:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(25036),a=r(86909),i=r.n(a);async function s({text:e}){return(0,n.jsxs)("div",{className:i().center,children:[n.jsx("div",{className:i().ring}),n.jsx("span",{className:i().loadingText,children:e})]})}},64805:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>_,generateMetadata:()=>w});var n=r(25036),a=r(40002);async function i(e){let t=`http://159.65.95.44/api/places?lang=${e}`;try{let e=await fetch(t);if(!e.ok)throw Error("Failed to fetch data");let r=await e.json();return console.log(r),r}catch(e){throw console.error("Error:",e),e}}var s=r(29219),o=r.n(s),l=r(16274),c=r(46958),p=r(2813);async function u({place:e,lang:t}){let r="http://159.65.95.44/",a=await (0,c.Z)(r+e.images[0]);return(0,n.jsxs)(l.default,{href:`places/${e.url}`,className:o().placeBox,target:"_blank",children:[n.jsx(p.default,{src:r+e.images[0],alt:e.name,className:o().placeImg,height:360,width:640,placeholder:"blur",blurDataURL:a,priority:!0}),e.weather&&e.weather.temp&&(0,n.jsxs)("div",{className:o().weather,children:[(0,n.jsxs)("h3",{children:[parseInt(e.weather?.temp),"\xb0C"]}),n.jsx(p.default,{src:`/${e.weather?.icon}.png`,alt:`${e.weather?.icon}`,width:"32",height:"32"})]}),n.jsx("h4",{children:e.title}),n.jsx("h6",{children:e.region})]},e._id)}var d=r(93471),h=r(86843);let g=(0,h.createProxy)(String.raw`/Users/anvarinho/Desktop/next-app/frontend/src/app/[lang]/places/load-more.tsx`),{__esModule:f,$$typeof:m}=g;g.default;let v=(0,h.createProxy)(String.raw`/Users/anvarinho/Desktop/next-app/frontend/src/app/[lang]/places/load-more.tsx#LoadMore`);var x=r(68564);async function _({params:{lang:e}}){let{page:t}=await (0,d.R)(e),r=i(e),s=(await r).map(async(t,r)=>n.jsx(u,{place:t,lang:e},r));return(0,n.jsxs)("div",{className:o().main,children:[n.jsx("h1",{children:t.sights.title}),n.jsx("div",{className:o().placesDiv,children:n.jsx("div",{className:o().placesList,children:(0,n.jsxs)(a.Suspense,{fallback:n.jsx("div",{className:o().loadingSpinnerWrapper,children:n.jsx(x.Z,{text:t.loading})}),children:[s,n.jsx(v,{lang:e})]})})})]})}async function w({params:{lang:e}}){let{page:t}=await (0,d.R)(e);return{title:{absolute:t.sights.title+" | "+t.name},description:t.sights.description,keywords:t.sights.keywords}}},46958:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});let n=require("sharp");function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}var s=["a"],o=["autoOrient","size","format","brightness","saturation","removeAlpha"],l=["width","height"],c=function e(t,r){return t.length>r?[t.slice(0,r)].concat(e(t.slice(r),r)):[t]},p=function(e){var t=e.r,r=e.g,n=e.b,a=e.a;return void 0===a?"rgb("+[t,r,n].join(",")+")":"rgba("+[t,r,n,a].join(",")+")"},u=function(e){var t,r=e.data,n=e.info,i=n.channels,s=n.width,o=c((t=[]).concat.apply(t,r),i);return c(o,s).map(function(e){return e.map(function(e){var t=e[0],r=e[1],n=e[2],i=e[3];return a({r:t,g:r,b:n},void 0===i?{}:{a:Math.round(i/255*1e3)/1e3})})})},d=function(e){var t=e.pixels,r=e.info,n=t.map(function(e){var t=e.map(function(e){return p(e)});return"linear-gradient(90deg, "+t.map(function(e,r){return""+e+(0===r?"":" "+r/t.length*100+"%")+(r===t.length?"":" "+(r+1)/t.length*100+"%")}).join(",")+")"});n.length!==r.height&&console.error("Woops! Something went wrong here and caused the color height to differ from the source height.");var a=n.map(function(e,t){return 0===t?"0 0 ":"0 "+t/(n.length-1)*100+"%"}).join(","),i="100% "+100/n.length+"%";return{backgroundImage:n.join(","),backgroundPosition:a,backgroundSize:i,backgroundRepeat:"no-repeat"}},h=function(e){var t,r=e.pixels,n=e.info,o=r.map(function(e,t){return e.map(function(e,r){var n=e.a,o=i(e,s),l=void 0!==n?{fill:p(o),"fill-opacity":n}:{fill:p(o),"fill-opacity":1};return["rect",a({},l,{width:1,height:1,x:r,y:t})]})});o.length!==n.height&&console.error("Woops! Something went wrong here and caused the color height to differ from the source height.");var l=(t=[]).concat.apply(t,o);return["svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",shapeRendering:"crispEdges",preserveAspectRatio:"none",viewBox:"0 0 "+n.width+" "+n.height,style:{position:"absolute",top:"50%",left:"50%",transformOrigin:"top left",transform:"translate(-50%, -50%)",right:0,bottom:0}},l]},g=function(e,t){var r=void 0===t?{}:t,s=r.autoOrient,c=void 0!==s&&s,p=r.size,g=void 0===p?4:p,f=r.format,m=void 0===f?["png"]:f,v=r.brightness,x=void 0===v?1:v,_=r.saturation,w=void 0===_?1.2:_,b=r.removeAlpha,y=void 0!==b&&b,j=i(r,o);try{return Promise.resolve(n(e).metadata().then(function(e){var t=e.width,r=e.height,n=i(e,l);if(!t||!r)throw Error("Could not get required image metadata");return a({width:t,height:r},n)})).then(function(t){4<=g&&g<=64||console.error("Please enter a `size` value between 4 and 64");var r,i=(r=n(e).resize(g,g,{fit:"inside"})).toFormat.apply(r,m).modulate(a({brightness:x,saturation:w},null!=j&&j.hue?{hue:null==j?void 0:j.hue}:{},null!=j&&j.lightness?{lightness:null==j?void 0:j.lightness}:{})),s=!1===y?i:i.removeAlpha(),o=!1===c?s:s.rotate();return Promise.resolve(o.clone().stats().then(function(e){var t=e.dominant,r=t.r,n=t.g,a=t.b;return{r:r,g:n,b:a,hex:"#"+[r,n,a].map(function(e){return e.toString(16).padStart(2,"0")}).join("")}})).then(function(e){return Promise.resolve(o.clone().normalise().toBuffer({resolveWithObject:!0}).then(function(e){var t=e.data,r=e.info;return"data:image/"+r.format+";base64,"+t.toString("base64")}).catch(function(e){throw console.error("base64 generation failed",e),e})).then(function(r){return Promise.resolve(o.clone().raw().toBuffer({resolveWithObject:!0}).then(function(e){var t=e.data,r=e.info,n=u({data:t,info:r}),a=d({pixels:n,info:r}),i=h({pixels:n,info:r});return{pixels:n,css:a,svg:i}}).catch(function(e){throw console.error("pixel generation failed",e),e})).then(function(n){var a=n.pixels,i=n.css,s=n.svg;return{color:e,css:i,base64:r,metadata:t,pixels:a,svg:s}})})})})}catch(e){return Promise.reject(e)}};async function f(e){try{let t=await fetch(e);if(!t.ok)throw Error(`Failed to fetch image: ${t.status} ${t.statusText}`);let r=await t.arrayBuffer(),{base64:n}=await g(Buffer.from(r));return n}catch(e){e instanceof Error&&console.log(e.stack)}}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[1638,8356,337,9993,3831],()=>r(82411));module.exports=n})();